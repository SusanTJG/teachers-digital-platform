# Teacher Digital Platform

**Description**:  The Teacher Digital Platform (TDP) will be a section within the existing cf.gov website to promote the CFPBs financial education building blocks research. It will offer teachers resources to assist them with instructing students in K-12 grades on financial education topics.

This platform contains work for three separate projects: Building blocks tool, Curriculum Review tool, and Search interface.


#### Table of Contents
[Building blocks tool](#building-blocks-tool)

  - [Implementation details](#bb-implementation-details)

  - [Local testing/development](#bb-local-testing-development)

[Curriculum Review tool](#curriculum-review-tool)

[Search interface](#search-interface)

  - [Models](#si-models)

[Dependencies](#dependencies)

[Installation](#installation)

[CSS and JavaScript](#css-and-javascript)

[How to test Software](#how-to-test-the-software)

  - [Testing JavaScript code](#testing-javascript-code)

  - [Testing Python code](#testing-python-code)

[Known Issues](#known-issues)

[Getting help](#getting-help)

[Open source licensing info](#open-source-licensing-info)

[Credits and references](#credits-and-references)

<a name="building-blocks-tool"/>

## Building blocks tool

**Description**: [The journey to adult financial well-being](https://www.consumerfinance.gov/practitioner-resources/youth-financial-education/journey) - A single page that will take users on a journey from adult financial well-being, to financial capability in youth, to the building blocks, and ending on a call to action. The call to action will focus on telling educators how they can easily incorporate the building blocks in their classroom.

  - **Technology stack**: Jinja2 template, inline SVG images, CSS, and JS.

  - **Live site**: [The journey to adult financial well-being](https://www.consumerfinance.gov/practitioner-resources/youth-financial-education/journey)

  - **Dependencies**: [smoothscroll polyfill](https://github.com/iamdustan/smoothscroll), [animate on scroll](https://github.com/michalsnik/aos)

<a name="bb-implementation-details"/>

### Implementation details

  - **Jinja2**: A single template file is used ([bb-tool.html](https://github.com/cfpb/teachers-digital-platform/blob/master/crtool/jinja2/crtool/bb-tool.html)).

  - **CSS**: This page pulls in the platform’s global style sheet ([tdp.less](https://github.com/cfpb/teachers-digital-platform/blob/master/crtool/css/tdp.less)). The [tour molecule](https://github.com/cfpb/teachers-digital-platform/blob/master/crtool/css/organisms/tour.less) contains most of the styles specific to this page. This page also uses the styles from the [animate on scroll](https://github.com/michalsnik/aos) library.

  - **JS**: This page pulls in the platform’s global JavaScript file ([tdp.js](https://github.com/cfpb/teachers-digital-platform/blob/master/crtool/js/index.js)). The [scroll.js](https://github.com/cfpb/teachers-digital-platform/blob/master/crtool/js/scroll.js) module handles the smooth scrolling to the different tour stops and depends on the [smoothscroll polyfill](https://github.com/iamdustan/smoothscroll) to work in older browsers. This page also uses the script from the [animate on scroll](https://github.com/michalsnik/aos) library.

<a name="bb-local-testing-development"/>

### Local testing/development

 - The Building blocks tool is accessible at the following path "**practitioner-resources/youth-financial-education/journey**"
 - The template for this page can be found in: ```crtool/jinja2/crtool/bb-tool.html```

<a name="curriculum-review-tool"/>

## Curriculum Review tool

**Description**: The [Curriculum Review tool](https://www.consumerfinance.gov/practitioner-resources/youth-financial-education/curriculum-review/tool/) is an interactive, online tool for educators to use in place of the [paper-based PDF](https://s3.amazonaws.com/files.consumerfinance.gov/f/201509_cfpb_youth-financialeducation-curriculum-review.pdf) that already exists on the cf.gov website.

Further documentation about the CR tool can be found in the [crtool directory](https://github.com/cfpb/teachers-digital-platform/tree/master/crtool).

<a name="dependencies"/>

## Dependencies

- **django-haystack**: The search page requires haystack and elasticsearch

- **django-mptt (0.9.0)**: MPTT is used to provide hierarchical topic metadata via the ActivityTopic model

- **django-js-asset (1.1.0)**': JS Asset is a dependency of django-mptt

<a name="installation"/>

## Installation

See [INSTALL.md](https://github.com/cfpb/teachers-digital-platform/blob/master/INSTALL.md).

<a name="css-and-javascript"/>

## CSS and JavaScript

This app uses Gulp to generate a single global CSS and JS files based on individual
.less and .js files in "crtool/css" and "crtool/js."
The generated css and js files can be found "crtool/static/"

You can generate all static files running the setup.sh script or running gulp
```sh
cd develop-apps/teachers-digital-platform/
./setup.sh
```
or use gulp:
```sh
gulp
gulp scripts
gulp styles
```

<a name="how-to-test-the-software"/>

## How to test the software

<a name="testing-javascript-code"/>

### Testing Javascript code:

Javascript tests can be found in "crtool/\_\_tests\_\_"

to only test Search Tool JS, run:
```sh
npm run test-js
```
to test both the Search Tool and CRTool, run:

```sh
npm run test
```

**Shell command**:
```sh
tox
```

<a name="known-issues"/>

## Known issues

Currently, [there are no error notifications when the Elasticsearch server is down](https://github.com/cfpb/teachers-digital-platform/blob/master/crtool/js/search.js#L144).
Errors are sent to console log, but is not prominently displayed for end-users.

<a name="getting-help"/>

## Getting help

If you have questions, concerns, bug reports, etc, please file an issue in this repository's Issue Tracker.

----

<a name="open-source-lincensing-info"/>

## Open source licensing info
1. [TERMS](TERMS.md)
2. [LICENSE](LICENSE)
3. [CFPB Source Code Policy](https://github.com/cfpb/source-code-policy/)

----

<a name="credits-and-references"/>

## Credits and references

1. This project was heavily influenced by work done on the [regulations3k project](https://github.com/cfpb/cfgov-refresh/tree/master/cfgov/regulations3k).
